{"ast":null,"code":"import React,{useState}from'react';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const ContactList=_ref=>{let{contacts,selectedUser,onSelectUser,onRemoveContact}=_ref;const[hoveredContact,setHoveredContact]=useState(null);const formatLastSeen=date=>{const lastSeen=new Date(date);const now=new Date();const diff=now-lastSeen;const minutes=Math.floor(diff/60000);const hours=Math.floor(diff/3600000);const days=Math.floor(diff/86400000);if(minutes<1)return'Just now';if(minutes<60)return\"\".concat(minutes,\"m ago\");if(hours<24)return\"\".concat(hours,\"h ago\");return\"\".concat(days,\"d ago\");};return/*#__PURE__*/_jsxs(\"div\",{className:\"contact-list\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Contacts (\",contacts.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"contacts\",children:contacts.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"no-contacts\",children:\"No contacts yet. Click \\\"Add Contact\\\" to get started!\"}):contacts.map(user=>/*#__PURE__*/_jsxs(\"div\",{className:\"contact-item \".concat((selectedUser===null||selectedUser===void 0?void 0:selectedUser._id)===user._id?'active':''),onClick:()=>onSelectUser(user),onMouseEnter:()=>setHoveredContact(user._id),onMouseLeave:()=>setHoveredContact(null),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"contact-avatar\",children:[user.username[0].toUpperCase(),user.online&&/*#__PURE__*/_jsx(\"span\",{className:\"online-indicator\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"contact-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"contact-name\",children:user.username}),/*#__PURE__*/_jsx(\"div\",{className:\"contact-status\",children:user.online?'Online':formatLastSeen(user.lastSeen)})]}),hoveredContact===user._id&&/*#__PURE__*/_jsx(\"button\",{className:\"btn-remove-contact\",onClick:e=>{e.stopPropagation();onRemoveContact(user._id);},title:\"Remove contact\",children:\"\\xD7\"})]},user._id))})]});};export default ContactList;","map":{"version":3,"names":["React","useState","jsxs","_jsxs","jsx","_jsx","ContactList","_ref","contacts","selectedUser","onSelectUser","onRemoveContact","hoveredContact","setHoveredContact","formatLastSeen","date","lastSeen","Date","now","diff","minutes","Math","floor","hours","days","concat","className","children","length","map","user","_id","onClick","onMouseEnter","onMouseLeave","username","toUpperCase","online","e","stopPropagation","title"],"sources":["C:/Users/rrach/OneDrive/Desktop/our_chat_app/client/src/components/ContactList.js"],"sourcesContent":["import React, { useState } from 'react';\r\n\r\nconst ContactList = ({ contacts, selectedUser, onSelectUser, onRemoveContact }) => {\r\n  const [hoveredContact, setHoveredContact] = useState(null);\r\n\r\n  const formatLastSeen = (date) => {\r\n    const lastSeen = new Date(date);\r\n    const now = new Date();\r\n    const diff = now - lastSeen;\r\n    const minutes = Math.floor(diff / 60000);\r\n    const hours = Math.floor(diff / 3600000);\r\n    const days = Math.floor(diff / 86400000);\r\n\r\n    if (minutes < 1) return 'Just now';\r\n    if (minutes < 60) return `${minutes}m ago`;\r\n    if (hours < 24) return `${hours}h ago`;\r\n    return `${days}d ago`;\r\n  };\r\n\r\n  return (\r\n    <div className=\"contact-list\">\r\n      <h3>Contacts ({contacts.length})</h3>\r\n      <div className=\"contacts\">\r\n        {contacts.length === 0 ? (\r\n          <p className=\"no-contacts\">No contacts yet. Click \"Add Contact\" to get started!</p>\r\n        ) : (\r\n          contacts.map(user => (\r\n            <div\r\n              key={user._id}\r\n              className={`contact-item ${selectedUser?._id === user._id ? 'active' : ''}`}\r\n              onClick={() => onSelectUser(user)}\r\n              onMouseEnter={() => setHoveredContact(user._id)}\r\n              onMouseLeave={() => setHoveredContact(null)}\r\n            >\r\n              <div className=\"contact-avatar\">\r\n                {user.username[0].toUpperCase()}\r\n                {user.online && <span className=\"online-indicator\"></span>}\r\n              </div>\r\n              <div className=\"contact-info\">\r\n                <div className=\"contact-name\">{user.username}</div>\r\n                <div className=\"contact-status\">\r\n                  {user.online ? 'Online' : formatLastSeen(user.lastSeen)}\r\n                </div>\r\n              </div>\r\n              {hoveredContact === user._id && (\r\n                <button\r\n                  className=\"btn-remove-contact\"\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                    onRemoveContact(user._id);\r\n                  }}\r\n                  title=\"Remove contact\"\r\n                >\r\n                  Ã—\r\n                </button>\r\n              )}\r\n            </div>\r\n          ))\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ContactList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}