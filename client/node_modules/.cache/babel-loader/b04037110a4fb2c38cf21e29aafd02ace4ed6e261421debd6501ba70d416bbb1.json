{"ast":null,"code":"require('dotenv').config();\nconst express = require('express');\nconst mongoose = require('mongoose');\nconst cors = require('cors');\nconst path = require('path');\nconst authRoutes = require('./routes/auth');\nconst chatRoutes = require('./routes/chat');\nconst app = express();\n\n// Middleware\napp.use(cors());\napp.use(express.json());\napp.use(express.urlencoded({\n  extended: true\n}));\n\n// Routes\napp.use('/api/auth', authRoutes);\napp.use('/api/chat', chatRoutes);\n\n// Serve static files in production\nif (process.env.NODE_ENV === 'production') {\n  app.use(express.static(path.join(__dirname, '../client/build')));\n  app.get('*', (req, res) => {\n    res.sendFile(path.join(__dirname, '../client/build/index.html'));\n  });\n}\n\n// Health check\napp.get('/health', (req, res) => {\n  res.json({\n    status: 'ok'\n  });\n});\n\n// Error handler\napp.use((err, req, res, next) => {\n  console.error(err.stack);\n  res.status(500).json({\n    error: 'Something went wrong!'\n  });\n});\n\n// MongoDB connection\nmongoose.connect(process.env.MONGODB_URI).then(() => {\n  console.log('‚úÖ Connected to MongoDB');\n  const PORT = process.env.PORT || 5000;\n  app.listen(PORT, () => {\n    console.log(`üöÄ Server running on port ${PORT}`);\n  });\n}).catch(err => {\n  console.error('‚ùå MongoDB connection error:', err);\n  process.exit(1);\n});","map":{"version":3,"names":["require","config","express","mongoose","cors","path","authRoutes","chatRoutes","app","use","json","urlencoded","extended","process","env","NODE_ENV","static","join","__dirname","get","req","res","sendFile","status","err","next","console","error","stack","connect","MONGODB_URI","then","log","PORT","listen","catch","exit"],"sources":["C:/Users/rrach/OneDrive/Desktop/our_chat_app/client/src/index.js"],"sourcesContent":["require('dotenv').config();\r\nconst express = require('express');\r\nconst mongoose = require('mongoose');\r\nconst cors = require('cors');\r\nconst path = require('path');\r\nconst authRoutes = require('./routes/auth');\r\nconst chatRoutes = require('./routes/chat');\r\n\r\nconst app = express();\r\n\r\n// Middleware\r\napp.use(cors());\r\napp.use(express.json());\r\napp.use(express.urlencoded({ extended: true }));\r\n\r\n// Routes\r\napp.use('/api/auth', authRoutes);\r\napp.use('/api/chat', chatRoutes);\r\n\r\n// Serve static files in production\r\nif (process.env.NODE_ENV === 'production') {\r\n  app.use(express.static(path.join(__dirname, '../client/build')));\r\n  \r\n  app.get('*', (req, res) => {\r\n    res.sendFile(path.join(__dirname, '../client/build/index.html'));\r\n  });\r\n}\r\n\r\n// Health check\r\napp.get('/health', (req, res) => {\r\n  res.json({ status: 'ok' });\r\n});\r\n\r\n// Error handler\r\napp.use((err, req, res, next) => {\r\n  console.error(err.stack);\r\n  res.status(500).json({ error: 'Something went wrong!' });\r\n});\r\n\r\n// MongoDB connection\r\nmongoose.connect(process.env.MONGODB_URI)\r\n  .then(() => {\r\n    console.log('‚úÖ Connected to MongoDB');\r\n    const PORT = process.env.PORT || 5000;\r\n    app.listen(PORT, () => {\r\n      console.log(`üöÄ Server running on port ${PORT}`);\r\n    });\r\n  })\r\n  .catch(err => {\r\n    console.error('‚ùå MongoDB connection error:', err);\r\n    process.exit(1);\r\n  });"],"mappings":"AAAAA,OAAO,CAAC,QAAQ,CAAC,CAACC,MAAM,CAAC,CAAC;AAC1B,MAAMC,OAAO,GAAGF,OAAO,CAAC,SAAS,CAAC;AAClC,MAAMG,QAAQ,GAAGH,OAAO,CAAC,UAAU,CAAC;AACpC,MAAMI,IAAI,GAAGJ,OAAO,CAAC,MAAM,CAAC;AAC5B,MAAMK,IAAI,GAAGL,OAAO,CAAC,MAAM,CAAC;AAC5B,MAAMM,UAAU,GAAGN,OAAO,CAAC,eAAe,CAAC;AAC3C,MAAMO,UAAU,GAAGP,OAAO,CAAC,eAAe,CAAC;AAE3C,MAAMQ,GAAG,GAAGN,OAAO,CAAC,CAAC;;AAErB;AACAM,GAAG,CAACC,GAAG,CAACL,IAAI,CAAC,CAAC,CAAC;AACfI,GAAG,CAACC,GAAG,CAACP,OAAO,CAACQ,IAAI,CAAC,CAAC,CAAC;AACvBF,GAAG,CAACC,GAAG,CAACP,OAAO,CAACS,UAAU,CAAC;EAAEC,QAAQ,EAAE;AAAK,CAAC,CAAC,CAAC;;AAE/C;AACAJ,GAAG,CAACC,GAAG,CAAC,WAAW,EAAEH,UAAU,CAAC;AAChCE,GAAG,CAACC,GAAG,CAAC,WAAW,EAAEF,UAAU,CAAC;;AAEhC;AACA,IAAIM,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,EAAE;EACzCP,GAAG,CAACC,GAAG,CAACP,OAAO,CAACc,MAAM,CAACX,IAAI,CAACY,IAAI,CAACC,SAAS,EAAE,iBAAiB,CAAC,CAAC,CAAC;EAEhEV,GAAG,CAACW,GAAG,CAAC,GAAG,EAAE,CAACC,GAAG,EAAEC,GAAG,KAAK;IACzBA,GAAG,CAACC,QAAQ,CAACjB,IAAI,CAACY,IAAI,CAACC,SAAS,EAAE,4BAA4B,CAAC,CAAC;EAClE,CAAC,CAAC;AACJ;;AAEA;AACAV,GAAG,CAACW,GAAG,CAAC,SAAS,EAAE,CAACC,GAAG,EAAEC,GAAG,KAAK;EAC/BA,GAAG,CAACX,IAAI,CAAC;IAAEa,MAAM,EAAE;EAAK,CAAC,CAAC;AAC5B,CAAC,CAAC;;AAEF;AACAf,GAAG,CAACC,GAAG,CAAC,CAACe,GAAG,EAAEJ,GAAG,EAAEC,GAAG,EAAEI,IAAI,KAAK;EAC/BC,OAAO,CAACC,KAAK,CAACH,GAAG,CAACI,KAAK,CAAC;EACxBP,GAAG,CAACE,MAAM,CAAC,GAAG,CAAC,CAACb,IAAI,CAAC;IAAEiB,KAAK,EAAE;EAAwB,CAAC,CAAC;AAC1D,CAAC,CAAC;;AAEF;AACAxB,QAAQ,CAAC0B,OAAO,CAAChB,OAAO,CAACC,GAAG,CAACgB,WAAW,CAAC,CACtCC,IAAI,CAAC,MAAM;EACVL,OAAO,CAACM,GAAG,CAAC,wBAAwB,CAAC;EACrC,MAAMC,IAAI,GAAGpB,OAAO,CAACC,GAAG,CAACmB,IAAI,IAAI,IAAI;EACrCzB,GAAG,CAAC0B,MAAM,CAACD,IAAI,EAAE,MAAM;IACrBP,OAAO,CAACM,GAAG,CAAC,6BAA6BC,IAAI,EAAE,CAAC;EAClD,CAAC,CAAC;AACJ,CAAC,CAAC,CACDE,KAAK,CAACX,GAAG,IAAI;EACZE,OAAO,CAACC,KAAK,CAAC,6BAA6B,EAAEH,GAAG,CAAC;EACjDX,OAAO,CAACuB,IAAI,CAAC,CAAC,CAAC;AACjB,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}