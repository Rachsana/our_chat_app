{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{useNavigate}from'react-router-dom';import{chatAPI,authAPI}from'../utils/api';import useSSE from'../utils/useSSE';import ContactList from'../components/ContactList';import MessageList from'../components/MessageList';import MessageInput from'../components/MessageInput';import AddContactModal from'../components/AddContactModal';import'../styles/Chat.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Chat=()=>{var _currentUser$username,_currentUser$username2;const navigate=useNavigate();const[contacts,setContacts]=useState([]);const[selectedUser,setSelectedUser]=useState(null);const[messages,setMessages]=useState([]);const[currentUser,setCurrentUser]=useState(null);const[loading,setLoading]=useState(true);const[showAddContact,setShowAddContact]=useState(false);const messagesEndRef=useRef(null);useEffect(()=>{const user=localStorage.getItem('user');if(user){setCurrentUser(JSON.parse(user));}loadContacts();},[]);useEffect(()=>{if(selectedUser){loadMessages(selectedUser._id);}},[selectedUser]);useEffect(()=>{scrollToBottom();},[messages]);const loadContacts=async()=>{try{const{data}=await chatAPI.getContacts();setContacts(data);setLoading(false);}catch(error){console.error('Error loading contacts:',error);setLoading(false);}};const loadMessages=async userId=>{try{const{data}=await chatAPI.getMessages(userId);setMessages(data);}catch(error){console.error('Error loading messages:',error);}};const handleSSEMessage=data=>{if(data.type==='new_message'){const{message}=data;if(selectedUser&&(message.sender._id===selectedUser._id||message.receiver._id===selectedUser._id)){setMessages(prev=>[...prev,message]);}loadContacts();}else if(data.type==='contact_added'){loadContacts();}};useSSE(handleSSEMessage);const handleSendMessage=async content=>{if(!selectedUser||!content.trim())return;try{const{data}=await chatAPI.sendMessage({receiverId:selectedUser._id,content:content.trim()});setMessages(prev=>[...prev,data]);}catch(error){console.error('Error sending message:',error);}};const handleAddContact=async contact=>{setContacts(prev=>[contact,...prev]);setShowAddContact(false);};const handleRemoveContact=async contactId=>{if(window.confirm('Are you sure you want to remove this contact?')){try{await chatAPI.removeContact(contactId);setContacts(prev=>prev.filter(c=>c._id!==contactId));if((selectedUser===null||selectedUser===void 0?void 0:selectedUser._id)===contactId){setSelectedUser(null);setMessages([]);}}catch(error){console.error('Error removing contact:',error);}}};const handleLogout=async()=>{try{await authAPI.logout();}catch(error){console.error('Logout error:',error);}finally{localStorage.removeItem('token');localStorage.removeItem('user');navigate('/login');}};const scrollToBottom=()=>{var _messagesEndRef$curre;(_messagesEndRef$curre=messagesEndRef.current)===null||_messagesEndRef$curre===void 0?void 0:_messagesEndRef$curre.scrollIntoView({behavior:'smooth'});};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading...\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"chat-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"OurChat\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:\"btn-logout\",children:\"Logout\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"current-user\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"user-avatar\",children:currentUser===null||currentUser===void 0?void 0:(_currentUser$username=currentUser.username)===null||_currentUser$username===void 0?void 0:(_currentUser$username2=_currentUser$username[0])===null||_currentUser$username2===void 0?void 0:_currentUser$username2.toUpperCase()}),/*#__PURE__*/_jsx(\"span\",{children:currentUser===null||currentUser===void 0?void 0:currentUser.username})]}),/*#__PURE__*/_jsx(\"div\",{className:\"add-contact-section\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAddContact(true),className:\"btn-add-contact\",children:\"+ Add Contact\"})}),/*#__PURE__*/_jsx(ContactList,{contacts:contacts,selectedUser:selectedUser,onSelectUser:setSelectedUser,onRemoveContact:handleRemoveContact})]}),/*#__PURE__*/_jsx(\"div\",{className:\"chat-main\",children:selectedUser?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"chat-header\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"user-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"user-avatar\",children:selectedUser.username[0].toUpperCase()}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:selectedUser.username}),/*#__PURE__*/_jsx(\"span\",{className:\"status \".concat(selectedUser.online?'online':'offline'),children:selectedUser.online?'Online':'Offline'})]})]})}),/*#__PURE__*/_jsx(MessageList,{messages:messages,currentUserId:currentUser===null||currentUser===void 0?void 0:currentUser.id,messagesEndRef:messagesEndRef}),/*#__PURE__*/_jsx(MessageInput,{onSendMessage:handleSendMessage})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"no-chat-selected\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Select a contact to start chatting\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Or add a new contact to begin\"})]})}),showAddContact&&/*#__PURE__*/_jsx(AddContactModal,{onClose:()=>setShowAddContact(false),onAddContact:handleAddContact})]});};export default Chat;","map":{"version":3,"names":["React","useState","useEffect","useRef","useNavigate","chatAPI","authAPI","useSSE","ContactList","MessageList","MessageInput","AddContactModal","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Chat","_currentUser$username","_currentUser$username2","navigate","contacts","setContacts","selectedUser","setSelectedUser","messages","setMessages","currentUser","setCurrentUser","loading","setLoading","showAddContact","setShowAddContact","messagesEndRef","user","localStorage","getItem","JSON","parse","loadContacts","loadMessages","_id","scrollToBottom","data","getContacts","error","console","userId","getMessages","handleSSEMessage","type","message","sender","receiver","prev","handleSendMessage","content","trim","sendMessage","receiverId","handleAddContact","contact","handleRemoveContact","contactId","window","confirm","removeContact","filter","c","handleLogout","logout","removeItem","_messagesEndRef$curre","current","scrollIntoView","behavior","className","children","onClick","username","toUpperCase","onSelectUser","onRemoveContact","concat","online","currentUserId","id","onSendMessage","onClose","onAddContact"],"sources":["C:/Users/rrach/OneDrive/Desktop/our_chat_app/client/src/pages/Chat.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { chatAPI, authAPI } from '../utils/api';\r\nimport useSSE from '../utils/useSSE';\r\nimport ContactList from '../components/ContactList';\r\nimport MessageList from '../components/MessageList';\r\nimport MessageInput from '../components/MessageInput';\r\nimport AddContactModal from '../components/AddContactModal';\r\nimport '../styles/Chat.css';\r\n\r\nconst Chat = () => {\r\n  const navigate = useNavigate();\r\n  const [contacts, setContacts] = useState([]);\r\n  const [selectedUser, setSelectedUser] = useState(null);\r\n  const [messages, setMessages] = useState([]);\r\n  const [currentUser, setCurrentUser] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [showAddContact, setShowAddContact] = useState(false);\r\n  const messagesEndRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const user = localStorage.getItem('user');\r\n    if (user) {\r\n      setCurrentUser(JSON.parse(user));\r\n    }\r\n    loadContacts();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (selectedUser) {\r\n      loadMessages(selectedUser._id);\r\n    }\r\n  }, [selectedUser]);\r\n\r\n  useEffect(() => {\r\n    scrollToBottom();\r\n  }, [messages]);\r\n\r\n  const loadContacts = async () => {\r\n    try {\r\n      const { data } = await chatAPI.getContacts();\r\n      setContacts(data);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      console.error('Error loading contacts:', error);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const loadMessages = async (userId) => {\r\n    try {\r\n      const { data } = await chatAPI.getMessages(userId);\r\n      setMessages(data);\r\n    } catch (error) {\r\n      console.error('Error loading messages:', error);\r\n    }\r\n  };\r\n\r\n  const handleSSEMessage = (data) => {\r\n    if (data.type === 'new_message') {\r\n      const { message } = data;\r\n      \r\n      if (selectedUser && \r\n          (message.sender._id === selectedUser._id || message.receiver._id === selectedUser._id)) {\r\n        setMessages(prev => [...prev, message]);\r\n      }\r\n      \r\n      loadContacts();\r\n    } else if (data.type === 'contact_added') {\r\n      loadContacts();\r\n    }\r\n  };\r\n\r\n  useSSE(handleSSEMessage);\r\n\r\n  const handleSendMessage = async (content) => {\r\n    if (!selectedUser || !content.trim()) return;\r\n\r\n    try {\r\n      const { data } = await chatAPI.sendMessage({\r\n        receiverId: selectedUser._id,\r\n        content: content.trim()\r\n      });\r\n      setMessages(prev => [...prev, data]);\r\n    } catch (error) {\r\n      console.error('Error sending message:', error);\r\n    }\r\n  };\r\n\r\n  const handleAddContact = async (contact) => {\r\n    setContacts(prev => [contact, ...prev]);\r\n    setShowAddContact(false);\r\n  };\r\n\r\n  const handleRemoveContact = async (contactId) => {\r\n    if (window.confirm('Are you sure you want to remove this contact?')) {\r\n      try {\r\n        await chatAPI.removeContact(contactId);\r\n        setContacts(prev => prev.filter(c => c._id !== contactId));\r\n        if (selectedUser?._id === contactId) {\r\n          setSelectedUser(null);\r\n          setMessages([]);\r\n        }\r\n      } catch (error) {\r\n        console.error('Error removing contact:', error);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleLogout = async () => {\r\n    try {\r\n      await authAPI.logout();\r\n    } catch (error) {\r\n      console.error('Logout error:', error);\r\n    } finally {\r\n      localStorage.removeItem('token');\r\n      localStorage.removeItem('user');\r\n      navigate('/login');\r\n    }\r\n  };\r\n\r\n  const scrollToBottom = () => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  };\r\n\r\n  if (loading) {\r\n    return <div className=\"loading\">Loading...</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"chat-container\">\r\n      <div className=\"sidebar\">\r\n        <div className=\"sidebar-header\">\r\n          <h2>OurChat</h2>\r\n          <button onClick={handleLogout} className=\"btn-logout\">\r\n            Logout\r\n          </button>\r\n        </div>\r\n        \r\n        <div className=\"current-user\">\r\n          <div className=\"user-avatar\">\r\n            {currentUser?.username?.[0]?.toUpperCase()}\r\n          </div>\r\n          <span>{currentUser?.username}</span>\r\n        </div>\r\n\r\n        <div className=\"add-contact-section\">\r\n          <button onClick={() => setShowAddContact(true)} className=\"btn-add-contact\">\r\n            + Add Contact\r\n          </button>\r\n        </div>\r\n\r\n        <ContactList\r\n          contacts={contacts}\r\n          selectedUser={selectedUser}\r\n          onSelectUser={setSelectedUser}\r\n          onRemoveContact={handleRemoveContact}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"chat-main\">\r\n        {selectedUser ? (\r\n          <>\r\n            <div className=\"chat-header\">\r\n              <div className=\"user-info\">\r\n                <div className=\"user-avatar\">\r\n                  {selectedUser.username[0].toUpperCase()}\r\n                </div>\r\n                <div>\r\n                  <h3>{selectedUser.username}</h3>\r\n                  <span className={`status ${selectedUser.online ? 'online' : 'offline'}`}>\r\n                    {selectedUser.online ? 'Online' : 'Offline'}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <MessageList\r\n              messages={messages}\r\n              currentUserId={currentUser?.id}\r\n              messagesEndRef={messagesEndRef}\r\n            />\r\n\r\n            <MessageInput onSendMessage={handleSendMessage} />\r\n          </>\r\n        ) : (\r\n          <div className=\"no-chat-selected\">\r\n            <h2>Select a contact to start chatting</h2>\r\n            <p>Or add a new contact to begin</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {showAddContact && (\r\n        <AddContactModal\r\n          onClose={() => setShowAddContact(false)}\r\n          onAddContact={handleAddContact}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Chat;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}